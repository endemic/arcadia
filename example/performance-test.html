<html>
<head>
	<title>Arcadia &mdash; Performance Tests</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">

	<script type="text/javascript" src="../dist/arcadia.js"></script>
	<script type="text/javascript">
		window.onload = function (e) {
			var pool = new Arcadia.Pool();
			pool.factory = function () {
				return new Arcadia.Shape();
			};

			var game = new Arcadia.Game(640, 480, Object);
			game.stop();

			var shape = new Arcadia.Shape(Arcadia.WIDTH / 2, Arcadia.HEIGHT / 2, 5, 20);

			document.getElementById('activate-pool').addEventListener('click', function (e) {
				while (pool.length < 10000) {
					pool.activate();
				}
				console.log("Pool length: " + pool.length);
			});

			document.getElementById('deactivate-pool').addEventListener('click', function (e) {
				while (pool.length > 0) {
					pool.deactivate(pool.length - 1);
				}
				console.log("Pool length: " + pool.length);
			});

			document.getElementById('draw-shape').addEventListener('click', function (e) {
				var i = 10000,
					canvas = document.getElementsByTagName('canvas')[0],
					context = canvas.getContext('2d');
				while (i--) {
					shape.draw(context);
				}
			});
		}
	</script>
</head>
<body>
	<p>Press keys and click/move mouse to activate input event listeners.</p>
	<button id="activate-pool">Activate 10,000 objects in Pool, one at a time</button>
	<button id="deactivate-pool">Deactivate 10,000 objects in Pool, one at a time</button>
	<button id="draw-shape">Draw Shape 10,000 times</button>
</body>
</html>
